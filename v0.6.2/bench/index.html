<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Benchmarks · SequentialMonteCarlo.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SequentialMonteCarlo.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Contents</a></li><li><a class="tocitem" href="../intro/">Introduction</a></li><li><a class="tocitem" href="../smcintegrals/">SMC integrals</a></li><li><a class="tocitem" href="../smcalgorithm/">SMC algorithm</a></li><li><a class="tocitem" href="../smctheory/">Theoretical properties</a></li><li><a class="tocitem" href="../smcve/">Variance estimators</a></li><li><a class="tocitem" href="../smcadaptive/">Adaptive resampling</a></li><li><a class="tocitem" href="../csmc/">Conditional SMC</a></li><li><a class="tocitem" href="../impl/">Implementation notes</a></li><li><a class="tocitem" href="../performance/">Performance tips</a></li><li><a class="tocitem" href="../smcinterface/">SMC interface</a></li><li><a class="tocitem" href="../guide/">Types and functions</a></li><li><a class="tocitem" href="../hmm/">Hidden Markov models</a></li><li class="is-active"><a class="tocitem" href>Benchmarks</a><ul class="internal"><li><a class="tocitem" href="#Procedure"><span>Procedure</span></a></li><li><a class="tocitem" href="#Results"><span>Results</span></a></li></ul></li><li><a class="tocitem" href="../refs/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Benchmarks</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Benchmarks</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/master/docs/src/bench.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Benchmarks"><a class="docs-heading-anchor" href="#Benchmarks">Benchmarks</a><a id="Benchmarks-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmarks" title="Permalink"></a></h1><h2 id="Procedure"><a class="docs-heading-anchor" href="#Procedure">Procedure</a><a id="Procedure-1"></a><a class="docs-heading-anchor-permalink" href="#Procedure" title="Permalink"></a></h2><p>These are obtained by running the bench.sh script in the test/ directory, e.g.</p><pre><code class="nohighlight hljs">sh bench.sh 1 2 8 16 | tee benchOutput.txt</code></pre><p>The benchmarks just involve a small selection of models, whose mutation and potential functions involve different amounts of arithmetic intensity and dimension of the particles. Clearly, it would be beneficial if the SMC community could agree on a suitable set of benchmarks to cover a wide variety of uses of SMC.</p><p>The processor information is obtained using Hwloc, which may not always be reliable. For example, the X5675 has 6 physical and 12 logical cores, which differs from the output below.</p><p>In the case of the E5-2667 v3 <em>only</em>, there is an issue with that particular machine&#39;s time stamp counter (TSC), which very adversely affects Julia&#39;s multi-threading, due to repeated system calls to obtain the time. For this reason, Julia was recompiled for this particular benchmark to disable thread profiling (this is a single preprocessor definition) and it was also run with JULIA<em>THREAD</em>SLEEP_THRESHOLD=0, which essentially eliminates time checks to send threads to sleep.</p><p>More benchmark results should eventually follow and contributions are welcome, please email them to Anthony Lee.</p><h2 id="Results"><a class="docs-heading-anchor" href="#Results">Results</a><a id="Results-1"></a><a class="docs-heading-anchor-permalink" href="#Results" title="Permalink"></a></h2><h3 id="E5-2667-v3-(Haswell)"><a class="docs-heading-anchor" href="#E5-2667-v3-(Haswell)">E5-2667 v3 (Haswell)</a><a id="E5-2667-v3-(Haswell)-1"></a><a class="docs-heading-anchor-permalink" href="#E5-2667-v3-(Haswell)" title="Permalink"></a></h3><pre><code class="nohighlight hljs">x86_64-linux-gnu
Intel(R) Xeon(R) CPU E5-2667 v3 @ 3.20GHz (haswell) ; 8 Physical, 16 Logical
Julia 0.6.2 using 1 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     427.571 μs (0 allocations: 0 bytes)
15     14.008 ms (0 allocations: 0 bytes)
20     475.663 ms (0 allocations: 0 bytes)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     3.062 ms (0 allocations: 0 bytes)
15     93.969 ms (0 allocations: 0 bytes)
20     3.076 s (0 allocations: 0 bytes)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     7.292 ms (0 allocations: 0 bytes)
15     228.784 ms (0 allocations: 0 bytes)
20     7.404 s (0 allocations: 0 bytes)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     18.674 ms (0 allocations: 0 bytes)
15     677.262 ms (0 allocations: 0 bytes)
20     20.945 s (0 allocations: 0 bytes)

x86_64-linux-gnu
Intel(R) Xeon(R) CPU E5-2667 v3 @ 3.20GHz (haswell) ; 8 Physical, 16 Logical
Julia 0.6.2 using 2 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     265.258 μs (58 allocations: 2.13 KiB)
15     7.442 ms (58 allocations: 2.13 KiB)
20     259.181 ms (58 allocations: 2.13 KiB)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     1.623 ms (58 allocations: 2.13 KiB)
15     49.242 ms (58 allocations: 2.13 KiB)
20     1.596 s (58 allocations: 2.13 KiB)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     3.875 ms (70 allocations: 2.56 KiB)
15     120.873 ms (70 allocations: 2.56 KiB)
20     3.937 s (70 allocations: 2.56 KiB)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     9.991 ms (58 allocations: 2.13 KiB)
15     322.275 ms (58 allocations: 2.13 KiB)
20     10.550 s (58 allocations: 2.13 KiB)

x86_64-linux-gnu
Intel(R) Xeon(R) CPU E5-2667 v3 @ 3.20GHz (haswell) ; 8 Physical, 16 Logical
Julia 0.6.2 using 8 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     156.166 μs (58 allocations: 2.13 KiB)
15     3.190 ms (58 allocations: 2.13 KiB)
20     124.468 ms (58 allocations: 2.13 KiB)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     499.578 μs (58 allocations: 2.13 KiB)
15     13.897 ms (58 allocations: 2.13 KiB)
20     461.113 ms (58 allocations: 2.13 KiB)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     1.082 ms (70 allocations: 2.56 KiB)
15     33.026 ms (70 allocations: 2.56 KiB)
20     1.068 s (70 allocations: 2.56 KiB)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     2.745 ms (58 allocations: 2.13 KiB)
15     89.940 ms (58 allocations: 2.13 KiB)
20     2.848 s (58 allocations: 2.13 KiB)

x86_64-linux-gnu
Intel(R) Xeon(R) CPU E5-2667 v3 @ 3.20GHz (haswell) ; 8 Physical, 16 Logical
Julia 0.6.2 using 16 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     139.753 μs (58 allocations: 2.13 KiB)
15     1.695 ms (58 allocations: 2.13 KiB)
20     90.893 ms (58 allocations: 2.13 KiB)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     486.448 μs (58 allocations: 2.13 KiB)
15     12.934 ms (58 allocations: 2.13 KiB)
20     422.990 ms (58 allocations: 2.13 KiB)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     857.726 μs (70 allocations: 2.56 KiB)
15     24.287 ms (70 allocations: 2.56 KiB)
20     811.622 ms (70 allocations: 2.56 KiB)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     2.205 ms (58 allocations: 2.13 KiB)
15     68.630 ms (58 allocations: 2.13 KiB)
20     2.269 s (58 allocations: 2.13 KiB)</code></pre><h3 id="X5675-(Westmere)"><a class="docs-heading-anchor" href="#X5675-(Westmere)">X5675 (Westmere)</a><a id="X5675-(Westmere)-1"></a><a class="docs-heading-anchor-permalink" href="#X5675-(Westmere)" title="Permalink"></a></h3><pre><code class="nohighlight hljs">x86_64-pc-linux-gnu
Intel(R) Xeon(R) CPU           X5675  @ 3.07GHz (westmere) ; 12 Physical, 12 Logical
Julia 0.6.2 using 1 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     605.047 μs (0 allocations: 0 bytes)
15     19.881 ms (0 allocations: 0 bytes)
20     711.570 ms (0 allocations: 0 bytes)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     4.514 ms (0 allocations: 0 bytes)
15     146.216 ms (0 allocations: 0 bytes)
20     4.773 s (0 allocations: 0 bytes)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     9.210 ms (0 allocations: 0 bytes)
15     295.984 ms (0 allocations: 0 bytes)
20     9.642 s (0 allocations: 0 bytes)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     25.382 ms (0 allocations: 0 bytes)
15     812.248 ms (0 allocations: 0 bytes)
20     26.175 s (0 allocations: 0 bytes)

x86_64-pc-linux-gnu
Intel(R) Xeon(R) CPU           X5675  @ 3.07GHz (westmere) ; 12 Physical, 12 Logical
Julia 0.6.2 using 2 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     471.944 μs (58 allocations: 2.13 KiB)
15     10.787 ms (58 allocations: 2.13 KiB)
20     397.859 ms (58 allocations: 2.13 KiB)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     2.539 ms (58 allocations: 2.13 KiB)
15     76.381 ms (58 allocations: 2.13 KiB)
20     2.536 s (58 allocations: 2.13 KiB)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     4.840 ms (70 allocations: 2.56 KiB)
15     151.000 ms (70 allocations: 2.56 KiB)
20     4.967 s (70 allocations: 2.56 KiB)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     13.068 ms (58 allocations: 2.13 KiB)
15     443.880 ms (58 allocations: 2.13 KiB)
20     13.591 s (58 allocations: 2.13 KiB)

x86_64-pc-linux-gnu
Intel(R) Xeon(R) CPU           X5675  @ 3.07GHz (westmere) ; 12 Physical, 12 Logical
Julia 0.6.2 using 6 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     295.348 μs (58 allocations: 2.13 KiB)
15     3.987 ms (58 allocations: 2.13 KiB)
20     194.822 ms (58 allocations: 2.13 KiB)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     1.033 ms (58 allocations: 2.13 KiB)
15     26.580 ms (58 allocations: 2.13 KiB)
20     935.893 ms (58 allocations: 2.13 KiB)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     1.835 ms (70 allocations: 2.56 KiB)
15     52.459 ms (70 allocations: 2.56 KiB)
20     1.817 s (70 allocations: 2.56 KiB)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     4.915 ms (58 allocations: 2.13 KiB)
15     144.660 ms (58 allocations: 2.13 KiB)
20     4.767 s (58 allocations: 2.13 KiB)

x86_64-pc-linux-gnu
Intel(R) Xeon(R) CPU           X5675  @ 3.07GHz (westmere) ; 12 Physical, 12 Logical
Julia 0.6.2 using 12 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     285.391 μs (58 allocations: 2.13 KiB)
15     2.222 ms (58 allocations: 2.13 KiB)
20     177.057 ms (58 allocations: 2.13 KiB)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     661.069 μs (58 allocations: 2.13 KiB)
15     13.912 ms (58 allocations: 2.13 KiB)
20     571.137 ms (58 allocations: 2.13 KiB)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     1.090 ms (70 allocations: 2.56 KiB)
15     26.662 ms (70 allocations: 2.56 KiB)
20     1.012 s (70 allocations: 2.56 KiB)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     2.489 ms (58 allocations: 2.13 KiB)
15     77.098 ms (58 allocations: 2.13 KiB)
20     2.509 s (58 allocations: 2.13 KiB)</code></pre><h3 id="i7-4650U-(Macbook-Air-2013)"><a class="docs-heading-anchor" href="#i7-4650U-(Macbook-Air-2013)">i7-4650U (Macbook Air 2013)</a><a id="i7-4650U-(Macbook-Air-2013)-1"></a><a class="docs-heading-anchor-permalink" href="#i7-4650U-(Macbook-Air-2013)" title="Permalink"></a></h3><pre><code class="nohighlight hljs">x86_64-apple-darwin14.5.0
Intel(R) Core(TM) i7-4650U CPU @ 1.70GHz (haswell) ; 2 Physical, 4 Logical
Julia 0.6.2 using 1 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     489.593 μs (0 allocations: 0 bytes)
15     15.796 ms (0 allocations: 0 bytes)
20     581.948 ms (0 allocations: 0 bytes)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     3.445 ms (0 allocations: 0 bytes)
15     116.387 ms (0 allocations: 0 bytes)
20     3.836 s (0 allocations: 0 bytes)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     8.501 ms (0 allocations: 0 bytes)
15     267.428 ms (0 allocations: 0 bytes)
20     8.842 s (0 allocations: 0 bytes)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     27.231 ms (0 allocations: 0 bytes)
15     897.206 ms (0 allocations: 0 bytes)
20     29.114 s (0 allocations: 0 bytes)

x86_64-apple-darwin14.5.0
Intel(R) Core(TM) i7-4650U CPU @ 1.70GHz (haswell) ; 2 Physical, 4 Logical
Julia 0.6.2 using 2 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     341.805 μs (58 allocations: 2.13 KiB)
15     9.639 ms (58 allocations: 2.13 KiB)
20     383.749 ms (58 allocations: 2.13 KiB)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     2.100 ms (58 allocations: 2.13 KiB)
15     71.799 ms (58 allocations: 2.13 KiB)
20     2.187 s (58 allocations: 2.13 KiB)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     4.759 ms (70 allocations: 2.56 KiB)
15     153.073 ms (70 allocations: 2.56 KiB)
20     5.038 s (70 allocations: 2.56 KiB)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     14.911 ms (58 allocations: 2.13 KiB)
15     487.701 ms (58 allocations: 2.13 KiB)
20     15.623 s (58 allocations: 2.13 KiB)

x86_64-apple-darwin14.5.0
Intel(R) Core(TM) i7-4650U CPU @ 1.70GHz (haswell) ; 2 Physical, 4 Logical
Julia 0.6.2 using 4 threads
Linear Gaussian Model, n = 10
log₂N  Benchmark
10     300.061 μs (58 allocations: 2.13 KiB)
15     7.858 ms (58 allocations: 2.13 KiB)
20     339.166 ms (58 allocations: 2.13 KiB)
Multivariate Linear Gaussian Model, d = 10, n = 10
log₂N  Benchmark
10     1.969 ms (58 allocations: 2.13 KiB)
15     65.497 ms (58 allocations: 2.13 KiB)
20     2.175 s (58 allocations: 2.13 KiB)
SMC Sampler Example, n = 12
log₂N  Benchmark
10     3.926 ms (70 allocations: 2.56 KiB)
15     128.009 ms (70 allocations: 2.56 KiB)
20     4.325 s (70 allocations: 2.56 KiB)
Lorenz96 Example, d = 8, n = 10
log₂N  Benchmark
10     13.381 ms (58 allocations: 2.13 KiB)
15     436.527 ms (58 allocations: 2.13 KiB)
20     14.559 s (58 allocations: 2.13 KiB)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../hmm/">« Hidden Markov models</a><a class="docs-footer-nextpage" href="../refs/">References »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Wednesday 15 December 2021 23:58">Wednesday 15 December 2021</span>. Using Julia version 1.7.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
