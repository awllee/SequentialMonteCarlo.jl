<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Types and functions · SequentialMonteCarlo.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SequentialMonteCarlo.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Contents</a></li><li><a class="tocitem" href="../intro/">Introduction</a></li><li><a class="tocitem" href="../smcintegrals/">SMC integrals</a></li><li><a class="tocitem" href="../smcalgorithm/">SMC algorithm</a></li><li><a class="tocitem" href="../smctheory/">Theoretical properties</a></li><li><a class="tocitem" href="../smcve/">Variance estimators</a></li><li><a class="tocitem" href="../smcadaptive/">Adaptive resampling</a></li><li><a class="tocitem" href="../csmc/">Conditional SMC</a></li><li><a class="tocitem" href="../impl/">Implementation notes</a></li><li><a class="tocitem" href="../performance/">Performance tips</a></li><li><a class="tocitem" href="../smcinterface/">SMC interface</a></li><li class="is-active"><a class="tocitem" href>Types and functions</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li><li><a class="tocitem" href="../hmm/">Hidden Markov models</a></li><li><a class="tocitem" href="../bench/">Benchmarks</a></li><li><a class="tocitem" href="../refs/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Types and functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Types and functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/master/docs/src/guide.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Documentation-strings"><a class="docs-heading-anchor" href="#Documentation-strings">Documentation strings</a><a id="Documentation-strings-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation-strings" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.SMCModel" href="#SequentialMonteCarlo.SMCModel"><code>SequentialMonteCarlo.SMCModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SMCModel(M!::F1, lG::F2, maxn::Int64, particle::Type, pScratch::Type) where
  {F1&lt;:Function,F2&lt;:Function}</code></pre><ul><li><code>M!</code> Mutation function</li><li><code>lG</code> Log potential function</li><li><code>maxn</code> Maximum n for which the model is well-defined</li><li><code>particle</code> Type of a particle</li><li><code>pScratch</code> Type of particle scratch space</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/structures.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.SMCIO" href="#SequentialMonteCarlo.SMCIO"><code>SequentialMonteCarlo.SMCIO</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SMCIO{Particle, ParticleScratch}</code></pre><p>Structs of this type should be constructed using the provided constructor. Important fields:</p><ul><li><code>N::Int64</code> Number of particles <span>$N$</span></li><li><code>n::Int64</code> Number of steps <span>$n$</span></li><li><code>nthreads::Int64</code> Number of threads</li><li><code>fullOutput::Bool</code> Whether particle system history should be recorded</li><li><code>essThreshold::Float64</code> Relative ESS Threshold <span>$\tau$</span></li><li><code>zetas::Vector{Particle}</code> Time n particles <span>$\zeta_n^1, \ldots, \zeta_n^N$</span></li><li><code>eves::Vector{Int64}</code> Time n Eve indices <span>$E_n^1, \ldots, E_n^N$</span></li><li><code>ws::Vector{Float64}</code> Time n weights <span>$W_n^1, \ldots, W_n^N$</span></li><li><code>logZhats::Vector{Float64}</code> <span>$\log(\hat{Z}^N_1), \ldots, \log(\hat{Z}^N_n)$</span></li><li><code>Vhat1s::Vector{Float64}</code> <span>$\hat{V}_1^N(1), \ldots, \hat{V}_n^N(1)$</span></li><li><code>esses::Vector{Float64}</code> Relative ESS values <span>$\mathcal{E}_1^N, \ldots, \mathcal{E}_n^N$</span></li><li><code>resample::Vector{Bool}</code> Resampling indicators <span>$R_1, \ldots, R_{n-1}$</span></li></ul><p>Populated only if <code>fullOutput == true</code></p><ul><li><code>allZetas::Vector{Vector{Particle}}</code> All the particles</li><li><code>allWs::Vector{Vector{Float64}}</code> All the weights</li><li><code>allAs::Vector{Vector{Int64}}</code> All the ancestor indices</li><li><code>allEves::Vector{Vector{Int64}}</code> All the Eve indices</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/structures.jl#L225-L246">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.smc!-Tuple{SMCModel, SMCIO}" href="#SequentialMonteCarlo.smc!-Tuple{SMCModel, SMCIO}"><code>SequentialMonteCarlo.smc!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">smc!(model::SMCModel, smcio::SMCIO)</code></pre><p>Run the SMC algorithm for the given model and input/output arguments.</p><p>If <code>smcio.nthreads == 1</code> the algorithm will run in serial.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.csmc!-Union{Tuple{Particle}, Tuple{SMCModel, SMCIO{Particle}, Vector{Particle}, Vector{Particle}}} where Particle" href="#SequentialMonteCarlo.csmc!-Union{Tuple{Particle}, Tuple{SMCModel, SMCIO{Particle}, Vector{Particle}, Vector{Particle}}} where Particle"><code>SequentialMonteCarlo.csmc!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">csmc!(model::SMCModel, smcio::SMCIO, ref::Vector{Particle}, refout::Vector{Particle})</code></pre><p>Run the conditional SMC algorithm for the given model, input/output arguments, reference path and output path.</p><p>It is permitted for ref and refout to be the same. If <code>smcio.nthreads == 1</code> the algorithm will run in serial.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L15-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.SMCIO-Union{Tuple{Int64, Int64, Int64, Bool}, Tuple{Int64, Int64, Int64, Bool, Float64}, Tuple{ParticleScratch}, Tuple{Particle}} where {Particle, ParticleScratch}" href="#SequentialMonteCarlo.SMCIO-Union{Tuple{Int64, Int64, Int64, Bool}, Tuple{Int64, Int64, Int64, Bool, Float64}, Tuple{ParticleScratch}, Tuple{Particle}} where {Particle, ParticleScratch}"><code>SequentialMonteCarlo.SMCIO</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SMCIO{Particle, ParticleScratch}(N::Int64, n::Int64, nthreads::Int64,
  fullOutput::Bool, essThreshold::Float64 = 2.0) where
  {Particle, ParticleScratch}</code></pre><p>Constructor for <code>SMCIO</code> structs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/structures.jl#L270-L275">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.eta-Union{Tuple{F}, Tuple{Particle}, Tuple{SMCIO{Particle}, F, Bool, Int64}} where {Particle, F&lt;:Function}" href="#SequentialMonteCarlo.eta-Union{Tuple{F}, Tuple{Particle}, Tuple{SMCIO{Particle}, F, Bool, Int64}} where {Particle, F&lt;:Function}"><code>SequentialMonteCarlo.eta</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">eta(smcio::SMCIO{Particle}, f::F, hat::Bool, p::Int64) where {Particle, F&lt;:Function}</code></pre><p>Compute:</p><ul><li><code>!hat</code>: <span>$\eta^N_p(f)$</span></li><li><code>hat</code>:  <span>$\hat{\eta}_p^N(f)$</span></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L57-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.allEtas-Union{Tuple{F}, Tuple{SMCIO, F, Bool}} where F&lt;:Function" href="#SequentialMonteCarlo.allEtas-Union{Tuple{F}, Tuple{SMCIO, F, Bool}} where F&lt;:Function"><code>SequentialMonteCarlo.allEtas</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">allEtas(smcio::SMCIO, f::F, hat::Bool) where F&lt;:Function</code></pre><p>Compute <code>eta(smcio::SMCIO, f::F, hat::Bool, p)</code> for p in {1, …, smcio.n}</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L75-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.slgamma-Union{Tuple{F}, Tuple{SMCIO, F, Bool, Int64}} where F&lt;:Function" href="#SequentialMonteCarlo.slgamma-Union{Tuple{F}, Tuple{SMCIO, F, Bool, Int64}} where F&lt;:Function"><code>SequentialMonteCarlo.slgamma</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">slgamma(smcio::SMCIO, f::F, hat::Bool, p::Int64) where {Particle, F&lt;:Function}</code></pre><p>Compute:</p><ul><li><code>!hat</code>: <span>$(\eta^N_p(f) \geq 0, \log |\gamma^N_p(f)|)$</span></li><li><code>hat</code>:  <span>$(\hat{\eta}^N_p(f) \geq 0, \log |\hat{\gamma}_p^N(f)|)$</span></li></ul><p>The result is returned as a <code>Tuple{Bool, Float64}</code>: the first component represents whether the returned value is non-negative, the second is the logarithm of the absolute value of the approximation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L89-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.allGammas-Union{Tuple{F}, Tuple{SMCIO, F, Bool}} where F&lt;:Function" href="#SequentialMonteCarlo.allGammas-Union{Tuple{F}, Tuple{SMCIO, F, Bool}} where F&lt;:Function"><code>SequentialMonteCarlo.allGammas</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">allGammas(smcio::SMCIO, f::F, hat::Bool) where F&lt;:Function</code></pre><p>Compute <code>slgamma(smcio::SMCIO, f::F, hat::Bool, p)</code> for p in {1, …, smcio.n}</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L109-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.V-Union{Tuple{F}, Tuple{Particle}, Tuple{SMCIO{Particle}, F, Bool, Bool, Int64}} where {Particle, F&lt;:Function}" href="#SequentialMonteCarlo.V-Union{Tuple{F}, Tuple{Particle}, Tuple{SMCIO{Particle}, F, Bool, Bool, Int64}} where {Particle, F&lt;:Function}"><code>SequentialMonteCarlo.V</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">V(smcio::SMCIO{Particle}, f::F, hat::Bool, centred::Bool, p::Int64) where
  {Particle, F&lt;:Function}</code></pre><p>Compute:</p><ul><li><code>!hat &amp; !centred</code>: <span>$V^N_p(f)$</span></li><li><code>!hat &amp; centred</code>: <span>$V^N_p(f-\eta_p^N(f))$</span></li><li><code>hat &amp; !centred</code>: <span>$\hat{V}_p^N(f)$</span></li><li><code>hat &amp; centred</code>:  <span>$\hat{V}_p^N(f-\hat{\eta}_p^N(f))$</span></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L132-L140">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.vpns-Union{Tuple{F}, Tuple{SMCIO, F, Bool, Bool, Int64}} where F&lt;:Function" href="#SequentialMonteCarlo.vpns-Union{Tuple{F}, Tuple{SMCIO, F, Bool, Bool, Int64}} where F&lt;:Function"><code>SequentialMonteCarlo.vpns</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">vpns(smcio::SMCIO, f::F, hat::Bool, centred::Bool, n::Int64) where F&lt;:Function</code></pre><p>Compute a vector of the values of, for p = 1, …, n,</p><ul><li><code>!hat &amp; !centred</code>: <span>$v^N_{p,n}(f)$</span></li><li><code>!hat &amp; centred</code>:  <span>$v^N_{p,n}(f-\eta_n^N(f))$</span></li><li><code>hat &amp; !centred</code>:  <span>$\hat{v}_{p,n}^N(f)$</span></li><li><code>hat &amp; centred</code>:   <span>$\hat{v}_{p,n}^N(f-\hat{\eta}_n^N(f))$</span></li></ul><p>Note: if <code>essThreshold &lt;= 1.0</code>, and resampling did not occur at every time, the length of the output will be less than n.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L176-L187">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequentialMonteCarlo.v-Union{Tuple{F}, Tuple{SMCIO, F, Bool, Bool, Int64}} where F&lt;:Function" href="#SequentialMonteCarlo.v-Union{Tuple{F}, Tuple{SMCIO, F, Bool, Bool, Int64}} where F&lt;:Function"><code>SequentialMonteCarlo.v</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">v(smcio::SMCIO, f::F, hat::Bool, centred::Bool, n::Int64) where F&lt;:Function</code></pre><p>Compute:</p><ul><li><code>!hat &amp; !centred</code>: <span>$v^N_n(f)$</span></li><li><code>!hat &amp; centred</code>: <span>$v^N_n(f-\eta_n^N(f))$</span></li><li><code>hat &amp; !centred</code>: <span>$\hat{v}_n^N(f)$</span></li><li><code>hat &amp; centred</code>:  <span>$\hat{v}_n^N(f-\hat{\eta}_n^N(f))$</span></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awllee/SequentialMonteCarlo.jl/blob/c16e054b7c02e092f73487aa0c9a4168907f9e93/src/interface.jl#L285-L293">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../smcinterface/">« SMC interface</a><a class="docs-footer-nextpage" href="../hmm/">Hidden Markov models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Wednesday 15 December 2021 19:17">Wednesday 15 December 2021</span>. Using Julia version 1.7.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
